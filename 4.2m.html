<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Sentellect - Coordinate Geometry Exercise 4.2 (FSc Part 2)</title>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<style>
    /* ===== Base Styles (Same as 4.1) ===== */
    :root {
      --primary: #1e40af;
      --primary-light: #3b82f6;
      --primary-dark: #1e3a8a;
      --secondary: #f59e0b;
      --accent: #ec4899;
      --text: #1e293b;
      --text-light: #64748b;
      --text-lighter: #94a3b8;
      --bg: #f8fafc;
      --white: #ffffff;
      --gray: #e2e8f0;
      --gray-light: #f1f5f9;
      --success: #10b981;
      --card-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
      --hover-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
      --pastel-bg: #f3f8ff;
      --muted: #64748b;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      background-color: var(--bg);
      color: var(--text);
      line-height: 1.6;
      overflow-x: hidden;
    }

    h1, h2, h3, h4 {
      font-weight: 700;
      line-height: 1.2;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    .container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    section {
      padding: 80px 0;
      padding-top: 0;
      padding-bottom: 0;
    }

    .section-title {
      text-align: center;
      margin-bottom: 50px;
    }

    .section-title h2 {
      font-size: 2.5rem;
      color: var(--primary);
      margin-bottom: 15px;
      position: relative;
      display: inline-block;
    }

    .section-title h2::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 4px;
      background: var(--secondary);
      border-radius: 2px;
    }

    .section-title p {
      color: var(--text-light);
      font-size: 1.1rem;
      max-width: 700px;
      margin: 0 auto;
    }

    .btn {
      display: inline-block;
      padding: 12px 28px;
      border-radius: 50px;
      font-weight: 600;
      transition: all 0.3s ease;
      text-align: center;
      cursor: pointer;
    }

    .btn-primary {
      background-color: var(--primary);
      color: var(--white);
      box-shadow: 0 4px 15px rgba(30, 64, 175, 0.3);
    }

    .btn-primary:hover {
      background-color: var(--primary-dark);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(30, 64, 175, 0.4);
    }

    .btn-secondary {
      background-color: var(--white);
      color: var(--primary);
      border: 2px solid var(--primary);
    }

    .btn-secondary:hover {
      background-color: var(--primary);
      color: var(--white);
      transform: translateY(-2px);
    }

    /* ===== Animations ===== */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    
    @keyframes shimmer {
      0% { background-position: -1000px 0; }
      100% { background-position: 1000px 0; }
    }
    
    @keyframes slideIn {
      from { transform: translateX(-20px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    @keyframes bounceIn {
      0% { transform: scale(0.95); opacity: 0; }
      50% { transform: scale(1.02); }
      100% { transform: scale(1); opacity: 1; }
    }

    @keyframes breathe {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.45); }
    }

    @keyframes wavey {
      0% { transform: translateY(0); }
      50% { transform: translateY(-6px); }
      100% { transform: translateY(0); }
    }

    .animate {
      animation: fadeIn 0.8s ease forwards;
    }
    
    .animate-slide {
      animation: slideIn 0.6s ease forwards;
    }
    
    .animate-bounce {
      animation: bounceIn 0.8s ease forwards;
    }

    .delay-1 { animation-delay: 0.2s; }
    .delay-2 { animation-delay: 0.4s; }
    .delay-3 { animation-delay: 0.6s; }
    .delay-4 { animation-delay: 0.8s; }

    /* ===== Header/Navbar ===== */
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 1000;
      background-color: var(--white);
      box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
    }

    header.scrolled {
      padding: 10px 0;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
    }

    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 0;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo-icon {
      width: 36px;
      height: 36px;
      background: linear-gradient(135deg, var(--primary), var(--primary-light));
      color: var(--white);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 18px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 8px rgba(30, 64, 175, 0.2);
    }

    .logo-text {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary);
      transition: all 0.3s ease;
    }

    .nav-links {
      display: flex;
      list-style: none;
      gap: 30px;
    }

    .nav-links a {
      font-weight: 500;
      position: relative;
      padding: 5px 0;
      transition: color 0.3s ease;
    }

    .nav-links a::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 3px;
      background: linear-gradient(to right, var(--primary), var(--secondary));
      transition: width 0.3s ease;
      border-radius: 2px;
    }

    .nav-links a:hover::after,
    .nav-links a.active::after {
      width: 100%;
    }

    .nav-links a.active {
      color: var(--primary);
      font-weight: 600;
    }

    .auth-buttons {
      display: flex;
      gap: 15px;
    }

    .login-btn {
      padding: 8px 20px;
      border-radius: 50px;
      font-weight: 500;
      transition: all 0.3s ease;
    }

    .login-btn:hover {
      color: var(--primary);
    }

    .signup-btn {
      padding: 8px 20px;
      border-radius: 50px;
      background: linear-gradient(to right, var(--primary), var(--primary-light));
      color: var(--white);
      font-weight: 500;
      transition: all 0.3s ease;
      box-shadow: 0 4px 10px rgba(30, 64, 175, 0.25);
    }

    .signup-btn:hover {
      background: linear-gradient(to right, var(--primary-dark), var(--primary));
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(30, 64, 175, 0.35);
    }

    .mobile-menu-btn {
      display: none;
      background: none;
      border: none;
      font-size: 1.5rem;
      color: var(--primary);
      cursor: pointer;
    }
    
    /* ===== Hero Section ===== */
    .hero {
      position: relative;
      padding: 180px 0 80px;
      background: linear-gradient(135deg, var(--primary), #004e92);
      color: var(--white);
      overflow: hidden;
      text-align: center;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkZWZzPjxwYXR0ZXJuIGlkPSJwYXR0ZXJuIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSg0NSkiPjxyZWN0IHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjA1KSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3QgZmlsbD0idXJsKCNwYXR0ZXJuKSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIvPjwvc3ZnPg==');
    }

    .hero-content {
      position: relative;
      z-index: 1;
      max-width: 800px;
      margin: 0 auto;
    }

    .hero h1 {
      font-size: 3.2rem;
      margin-bottom: 20px;
      line-height: 1.2;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      white-space: nowrap;
    }

    .hero h1 span {
      color: var(--secondary);
      position: relative;
    }

    .hero h1 span::after {
      content: '';
      position: absolute;
      bottom: 5px;
      left: 0;
      width: 100%;
      height: 8px;
      background-color: rgba(255, 255, 255, 0.3);
      z-index: -1;
      border-radius: 4px;
    }

    .hero p {
      font-size: 1.2rem;
      margin-bottom: 40px;
      opacity: 0.9;
    }

    .hero-buttons {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 30px;
    }

    .hero .btn-secondary {
      background-color: transparent;
      color: var(--white);
      border-color: var(--white);
    }

    .hero .btn-secondary:hover {
      background-color: var(--white);
      color: var(--primary);
    }

    .floating-shape {
      position: absolute;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.1);
      z-index: 0;
      animation: float 6s ease-in-out infinite;
    }

    .shape-1 {
      width: 150px;
      height: 150px;
      top: 10%;
      left: 10%;
      animation-delay: 0s;
    }

    .shape-2 {
      width: 100px;
      height: 100px;
      bottom: 15%;
      right: 10%;
      animation-delay: 0.5s;
    }

    .shape-3 {
      width: 80px;
      height: 80px;
      top: 30%;
      right: 20%;
      animation-delay: 1s;
    }
    
    .particles {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      z-index: 0;
    }
    
    .particle {
      position: absolute;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      animation: float 8s infinite ease-in-out;
    }

    /* ===== Card Styles ===== */
    .card {
      background-color: var(--white);
      border-radius: 16px;
      padding: 30px;
      margin: 25px 0;
      box-shadow: var(--card-shadow);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 5px;
      height: 100%;
      background: linear-gradient(to bottom, var(--primary), var(--secondary));
      transition: width 0.3s ease;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: var(--hover-shadow);
    }
    
    .card:hover::before {
      width: 8px;
    }

    h2 {
      color: var(--primary);
      font-size: 1.8rem;
      margin-bottom: 20px;
      font-weight: 600;
    }

    h3 {
      color: var(--primary);
      font-size: 1.4rem;
      margin: 25px 0 15px;
      font-weight: 600;
      position: relative;
      padding-left: 15px;
    }
    
    h3::before {
      content: '';
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      width: 6px;
      height: 6px;
      background: var(--secondary);
      border-radius: 50%;
    }

    p {
      color: var(--text-light);
      margin-bottom: 20px;
      line-height: 1.7;
    }

    .lead {
      color: var(--muted);
      margin-bottom: 10px;
    }

    /* ===== Step Buttons ===== */
    .step-buttons {
      display: flex;
      gap: 12px;
      margin: 20px 0;
      flex-wrap: wrap;
    }

    .step-btn {
      padding: 10px 16px;
      background: linear-gradient(to right, var(--primary), var(--primary-light));
      color: var(--white);
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
      box-shadow: 0 4px 8px rgba(30, 64, 175, 0.2);
    }

    .step-btn:hover {
      background: linear-gradient(to right, var(--primary-dark), var(--primary));
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(30, 64, 175, 0.3);
    }

    /* ===== Solution Display ===== */
    .solution {
      background: var(--gray-light);
      border-left: 4px solid var(--secondary);
      padding: 20px;
      margin: 15px 0;
      border-radius: 0 8px 8px 0;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .solution::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.5), transparent);
      transform: translateX(-100%);
    }
    
    .solution.active::before {
      animation: shimmer 1.5s ease;
    }

    /* ===== Self-Care Notes ===== */
    .self-care {
      background: linear-gradient(135deg, #e0f2fe, #f0f9ff);
      border-radius: 12px;
      padding: 20px;
      margin: 25px 0;
      text-align: center;
      border-left: 5px solid var(--accent);
      animation: pulse 3s infinite;
    }

    .self-care h4 {
      color: var(--accent);
      margin-bottom: 10px;
      font-size: 1.3rem;
    }

    .self-care p {
      color: var(--text);
      font-size: 1.1rem;
      margin-bottom: 0;
    }

    /* ===== Visual Elements ===== */
    .math-emoji {
      font-size: 2rem;
      margin: 0 10px;
      animation: float 3s ease-in-out infinite;
    }

    .emoji-row {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin: 15px 0;
    }

    /* ===== Exercise 4.2 Specific Styles ===== */
    .definition {
      background: #f3fbff;
      border-left: 6px solid var(--primary);
      padding: 12px;
      border-radius: 8px;
      margin-top: 10px;
      color: var(--text);
      display: flex;
      align-items: center;
      gap: 15px;
    }
    .definition-content{flex:1}
    .definition-cartoon{flex-shrink:0;width:80px;height:80px;display:flex;align-items:center;justify-content:center}

    .controls {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-top: 10px;
    }

    .big {
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 6px;
    }

    .step-block {
      margin-top: 10px;
    }

    .step-line {
      display: none;
      padding: 10px;
      border-radius: 8px;
      background: #f7fbff;
      margin-top: 8px;
      border-left: 4px solid #d6eefc;
      font-family: 'Times New Roman', serif; /* Enhance math presentation */
      font-size: 1.1em;
      line-height: 1.5;
    }

    .next-step {
      margin-top: 8px;
      background: var(--primary);
      color: white;
      padding: 8px 10px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
    }

    input[type="text"] {
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #d9ecff;
      width: 100%;
      font-size: 15px;
    }
    input[type="number"] {
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #d9ecff;
      max-width: 100px;
      font-size: 15px;
    }

    .row {
      display: flex;
      gap: 10px;
      align-items: center;
      margin-top: 8px;
      flex-wrap: wrap;
    }

    button.check {
      background: var(--primary);
      color: white;
      border: none;
      padding: 10px 14px;
      border-radius: 8px;
      cursor: pointer;
    }

    .result {
      margin-top: 8px;
      padding: 10px;
      border-radius: 8px;
      display: none;
    }

    .result.good {
      background: #e6fff0;
      border-left: 4px solid #2fb46a;
    }

    .result.warn {
      background: #fff7e6;
      border-left: 4px solid #ffb74d;
    }

    .calm {
      margin-top: 14px;
      padding: 14px;
      border-radius: 10px;
      background: linear-gradient(180deg, #fff8f0, #f8ffff);
      text-align: center;
      border: 1px solid #e6f7ff;
    }

    .breath {
      width: 48px;
      height: 48px;
      background: #ffd08a;
      border-radius: 50%;
      margin: 12px auto;
      animation: breathe 4s infinite ease-in-out;
    }

    .wave {
      font-size: 36px;
      display: inline-block;
      animation: wavey 2.6s infinite;
    }

    .divider {
      background: linear-gradient(90deg, var(--primary), var(--primary-light));
      color: white;
      padding: 10px 14px;
      border-radius: 10px;
      margin: 18px 0;
      font-weight: 700;
      box-shadow: 0 6px 18px rgba(3, 102, 214, 0.08);
      text-align: center;
    }

    .small-note {
      font-size: 13px;
      color: var(--text-light);
      margin-top: 6px;
    }

    .motivate{
      background:linear-gradient(180deg,#fff,#fffaf6);
      border-radius:10px;
      padding:10px;
      border-left:6px solid var(--accent);
      margin-top:12px;
      display:flex;
      align-items:center;
      gap:12px
    }
    .motivate .emoji{font-size:24px}
    .motivate .text{font-weight:700;color:var(--primary);font-size:0.95rem}

    .try-yourself {
      background: #fffaf0;
      border-radius: 10px;
      padding: 15px;
      margin: 15px 0;
      border: 1px dashed rgba(245,158,11,0.16);
    }

    .try-title {
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .example-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 15px;
      margin-top: 15px;
    }

    .example-box {
      background: var(--pastel-bg);
      padding: 15px;
      border-radius: 10px;
      border: 1px solid rgba(30,64,175,0.04);
    }
    
    /* ===== Concept Explanation Box ===== */
    .concept-explained-box {
      background: #f0f7ff;
      border-radius: 14px;
      padding: 20px;
      margin: 25px 0;
      border: 2px solid rgba(30,64,175,0.08);
      display: flex;
      align-items: flex-start;
      gap: 16px;
      box-shadow: 0 8px 20px rgba(30,64,175,0.05);
      transition: all 0.3s ease;
    }
    .concept-explained-box:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 25px rgba(30,64,175,0.1);
    }
    .concept-explained-box .icon {
      font-size: 2.5rem;
      flex-shrink: 0;
      animation: float 4s ease-in-out infinite;
    }
    .concept-explained-box .content {
      flex: 1;
    }
    .concept-explained-box h3 {
      color: var(--primary);
      font-size: 1.3rem;
      margin-bottom: 8px;
      font-weight: 700;
    }
    .concept-explained-box p {
      color: var(--text-light);
      margin-bottom: 6px;
      line-height: 1.6;
    }

    /* ===== Scenario Cards ===== */
    .scenario {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-around;
      padding: 12px;
    }
    
    .scenario .card-mini {
      background: white;
      padding: 10px;
      border-radius: 10px;
      box-shadow: 0 6px 16px rgba(3, 102, 214, 0.04);
      width: 30%;
      min-width: 200px;
      text-align: center;
      cursor: pointer;
      transition: transform 0.2s ease;
    }
    
    .scenario .card-mini:hover {
      transform: translateY(-5px);
    }
    
    .scenario .icon {
      font-size: 48px;
      margin-bottom: 8px;
    }
    
    .scenario .explain {
      display: none;
      margin-top: 8px;
      text-align: left;
    }
    
    .show-explain {
      display: block;
      padding: 10px;
      border-radius: 8px;
      background: #f2fbff;
      border-left: 4px solid #cfeeff;
      margin-top: 8px;
    }
    
    .self-btn {
      background: #2b9cff;
      color: white;
      padding: 8px 10px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
    }
    
    .diy-msg {
      display: none;
      margin-top: 8px;
      padding: 10px;
      border-radius: 8px;
      background: #f0fff6;
      border-left: 4px solid #2fd182;
    }

    /* ===== Enhanced Concept Explanation ===== */
    .concept-explainer {
      background: linear-gradient(135deg, #f0f9ff, #e6f7ff);
      border-radius: 14px;
      padding: 20px;
      margin: 25px 0;
      border-left: 5px solid var(--primary);
      box-shadow: 0 8px 25px rgba(30, 64, 175, 0.08);
    }
    
    .concept-header {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
      cursor: pointer;
    }
    
    .concept-header h3 {
      color: var(--primary);
      margin: 0;
      flex-grow: 1;
    }
    
    .concept-toggle {
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .concept-toggle:hover {
      background: var(--primary-dark);
      transform: scale(1.1);
    }
    
    .concept-content {
      display: none;
      animation: fadeIn 0.5s ease;
    }
    
    .concept-content.active {
      display: block;
    }
    
    .concept-visual {
      display: flex;
      align-items: center;
      gap: 20px;
      margin: 15px 0;
    }
    
    .concept-visual .text {
      flex: 1;
    }
    
    .concept-visual .graph {
      flex: 1;
      min-height: 150px;
      background: var(--white);
      border-radius: 10px;
      padding: 10px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }
    
    .concept-point {
      background: white;
      border-radius: 8px;
      padding: 12px 15px;
      margin: 10px 0;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
      border-left: 3px solid var(--primary-light);
    }
    
    .concept-point h4 {
      color: var(--primary);
      margin-bottom: 5px;
      font-size: 1rem;
    }
    
    .concept-point p {
      margin: 0;
      font-size: 0.95rem;
    }

    /* ===== 4.2 Specific Styles ===== */
    .coord-system {
      width: 180px;
      height: 180px;
      border: 1px solid var(--primary);
      position: relative;
      margin: 10px auto;
      background: white;
      border-radius: 5px;
    }
    
    .axis {
      position: absolute;
      background: var(--primary);
    }
    
    .x-axis {
      width: 100%;
      height: 1px;
      top: 50%;
      left: 0;
    }
    
    .y-axis {
      width: 1px;
      height: 100%;
      top: 0;
      left: 50%;
    }
    
    .new-axis {
      background: var(--primary-light);
    }
    
    .point {
      width: 8px;
      height: 8px;
      background: #ff6b6b;
      border-radius: 50%;
      position: absolute;
      transform: translate(-50%, -50%);
    }
    
    .point-label {
      position: absolute;
      font-size: 12px;
      font-weight: bold;
      background: rgba(255,255,255,0.8);
      padding: 2px 5px;
      border-radius: 3px;
    }
    
    .graph-container {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      gap: 15px;
      margin: 15px 0;
    }
    
    .graph-box {
      text-align: center;
    }
    
    .graph-title {
      font-weight: 600;
      margin-bottom: 8px;
      color: var(--primary);
      font-size: 14px;
    }
    
    .cartoon-box {
      background: #fff9e6;
      border: 2px solid #ffd166;
      border-radius: 10px;
      padding: 15px;
      margin: 15px 0;
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .cartoon-icon {
      font-size: 3rem;
      color: #ff6b6b;
      flex-shrink: 0;
    }
    
    .cartoon-text {
      flex: 1;
    }
    
    .formula-box {
      background: #f8f5ff;
      border-radius: 8px;
      padding: 12px;
      margin: 10px 0;
      border-left: 4px solid #9d7bff;
      font-family: 'Courier New', monospace;
    }
    
    .concept-explanation {
      background: #fffaf0;
      border-radius: 8px;
      padding: 12px;
      margin: 10px 0;
      border-left: 4px solid #ffd166;
    }
    
    .visual-hint {
      background: #f0fff4;
      border-radius: 8px;
      padding: 10px;
      margin: 8px 0;
      border-left: 4px solid #2fd182;
      font-size: 14px;
    }

    /* ===== Footer ===== */
    .footer {
      background: linear-gradient(to bottom, var(--primary-dark), #0f172a);
      color: var(--white);
      padding: 80px 0 30px;
      position: relative;
    }

    .footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 10px;
      background: linear-gradient(90deg, var(--secondary), var(--primary));
    }

    .footer-content {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 40px;
      margin-bottom: 60px;
    }

    .footer-about {
      grid-column: span 2;
    }

    .footer-logo {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .footer-logo-icon {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, var(--white), var(--gray));
      color: var(--primary);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 1.2rem;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .footer-about p {
      opacity: 0.8;
      margin-bottom: 25px;
      line-height: 1.7;
    }

    .social-links {
      display: flex;
      gap: 15px;
    }

    .social-link {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .social-link:hover {
      background: linear-gradient(135deg, var(--secondary), var(--accent));
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(245, 158, 11, 0.3);
    }

    .footer-links h3 {
      font-size: 1.2rem;
      margin-bottom: 25px;
      position: relative;
      padding-bottom: 10px;
      color: var(--white);
    }

    .footer-links h3::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 40px;
      height: 3px;
      background: linear-gradient(to right, var(--secondary), var(--accent));
    }

    .footer-links ul {
      list-style: none;
    }

    .footer-links li {
      margin-bottom: 12px;
    }

    .footer-links a {
      opacity: 0.8;
      transition: all 0.3s ease;
      position: relative;
      padding-left: 15px;
    }

    .footer-links a::before {
      content: '‚Üí';
      position: absolute;
      left: 0;
      opacity: 0;
      transition: all 0.3s ease;
    }

    .footer-links a:hover {
      opacity: 1;
      padding-left: 20px;
    }

    .footer-links a:hover::before {
      opacity: 1;
      left: -5px;
    }

    .footer-bottom {
      text-align: center;
      padding-top: 30px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .footer-bottom p {
      opacity: 0.7;
      margin-bottom: 20px;
    }

    .footer-tags {
      display: flex;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
    }

    .tag {
      background-color: rgba(255, 255, 255, 0.1);
      padding: 5px 15px;
      border-radius: 50px;
      font-size: 0.9rem;
      transition: all 0.3s ease;
    }

    .tag:hover {
      background: linear-gradient(to right, var(--secondary), var(--accent));
      color: var(--text);
      transform: translateY(-2px);
    }

    /* ===== Floating Action Button ===== */
    .fab {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, var(--primary), var(--primary-light));
      color: var(--white);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      box-shadow: 0 6px 15px rgba(30, 64, 175, 0.3);
      cursor: pointer;
      z-index: 999;
      transition: all 0.3s ease;
      animation: pulse 2s infinite;
    }
    
    .fab:hover {
      transform: scale(1.1) rotate(90deg);
      box-shadow: 0 8px 20px rgba(30, 64, 175, 0.4);
    }
    
    /* ===== Sound Toggle Button ===== */
    .sound-toggle {
      position: fixed;
      right: 18px;
      bottom: 100px;
      z-index: 200;
      background: linear-gradient(90deg, var(--primary), var(--primary-light));
      color: white;
      border: none;
      padding: 12px;
      border-radius: 12px;
      box-shadow: 0 8px 30px rgba(11, 99, 216, 0.14);
      cursor: pointer;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.3s ease;
    }
    
    .sound-toggle .icon {
      font-size: 18px;
    }
    
    .sound-muted {
      background: #ddd;
      color: #666;
      border: 1px solid #ccc;
    }
    
    @media (max-width: 900px) {
      .scenario .card-mini {
          width: 100%;
      }
      .sound-toggle {
          right: 12px;
          bottom: 100px;
      }
    }
  </style>
</head>
<body>
<header id="header">
<div class="container">
<nav class="navbar">
<a class="logo" href="#">
<div class="logo-icon">S</div>
<span class="logo-text">Sentellect</span>
</a>
<ul class="nav-links" style="display:flex;justify-content:center;align-items:center;gap:40px;list-style:none;margin:0 auto;padding:0;">
<li><a href="#home">Home</a></li>
<li><a href="#transformations-section">Introduction</a></li>
<li><a href="#translation-section">Grahic</a></li>
<li><a href="#rotation-section">System</a></li>
<li><a href="#combined-section">Practice</a></li>
</ul>
<div class="auth-buttons" style="display:none;">
</div>
<button class="mobile-menu-btn" style="display:none;">
<i class="fas fa-bars"></i>
</button>
</nav>
</div>
</header>
<section class="hero">
<div class="particles">
<div class="particle" style="top: 20%; left: 5%; width: 10px; height: 10px; animation-delay: 0s;"></div>
<div class="particle" style="top: 60%; left: 15%; width: 15px; height: 15px; animation-delay: 1s;"></div>
<div class="particle" style="top: 30%; right: 10%; width: 12px; height: 12px; animation-delay: 2s;"></div>
<div class="particle" style="bottom: 20%; left: 20%; width: 8px; height: 8px; animation-delay: 3s;"></div>
<div class="particle" style="bottom: 40%; right: 15%; width: 14px; height: 14px; animation-delay: 4s;"></div>
</div>
<div class="floating-shape shape-1"></div>
<div class="floating-shape shape-2"></div>
<div class="floating-shape shape-3"></div>
<div class="container">
<div class="hero-content">
<h1 class="animate">Coordinate Geometry ‚Äî <span>Chapter 4</span></h1>
<p class="animate delay-1">Exercise 4.2(M): Translation and Rotation of Axex</p>
<div class="hero-buttons">
<a class="btn btn-primary animate delay-2" href="#transformations-section">Start Learning</a>
<a class="btn btn-secondary animate delay-3" href="#combined-section">Coordinate Geomertry</a>
</div>
</div>
</div>
</section>
<div class="wrap container">
<div class="card animate" style="margin-top: 40px;">
<h1><i class="fas fa-book-open"></i> Exercise 4.2: Translation and Rotation of Axes</h1>
<p class="lead">Learn about transforming coordinate systems with translation and rotation through interactive examples.</p>
<div class="definition definition-content" style="display:block; border-left: 6px solid var(--secondary);">Based on FSc Part 2 Mathematics - Punjab Textbook Board</div>
<div class="motivation">
<div class="motivation-icon">üöÄ</div>
<div style="flex-grow: 1;">
<div class="motivation-text">You're about to master coordinate transformations!</div>
<div class="motivation-subtext">These concepts are fundamental in advanced mathematics and physics</div>
</div>
</div>
<div class="calm">
<h4>üßò‚Äç‚ôÄÔ∏è Before We Begin üßò‚Äç‚ôÇÔ∏è</h4>
<p>Learning coordinate transformations can be challenging, but remember to breathe and take breaks. You're building amazing visualization skills!</p>
<div class="breath"></div>
<p>Take a deep breath with the circle above. Inhale as it expands, exhale as it contracts.</p>
</div>
</div>
<div class="divider" id="transformations-section"><i class="fas fa-sync-alt"></i> Introduction to Coordinate Transformations</div>
<section class="card animate delay-1">
<h2><i class="fas fa-eye"></i> Why Transform Coordinates?</h2>
<p class="lead">Sometimes it's easier to solve problems by changing our viewpoint.</p>

<!-- Enhanced Concept Explanation -->
<div class="concept-explainer">
  <div class="concept-header" onclick="toggleConcept('concept-transformations')">
    <h3>Understanding Coordinate Transformations</h3>
    <button class="concept-toggle">+</button>
  </div>
  <div class="concept-content" id="concept-transformations">
    <div class="concept-point">
      <h4>What are Coordinate Transformations?</h4>
      <p>Coordinate transformations allow us to describe the same geometric objects from different perspectives by changing our coordinate system.</p>
    </div>
    
    <div class="concept-point">
      <h4>Why Use Different Coordinate Systems?</h4>
      <p>Some math problems become much simpler when viewed from a different perspective. By transforming coordinates, we can:</p>
      <p>‚Ä¢ Simplify equations</p>
      <p>‚Ä¢ Reveal hidden symmetries</p>
      <p>‚Ä¢ Make calculations easier</p>
    </div>
    
    <div class="concept-visual">
      <div class="text">
        <h4>Visual Representation</h4>
        <p>Imagine looking at a building from the ground versus from a helicopter. The building hasn't changed, but your perspective has. Coordinate transformations work similarly!</p>
        <p>This concept is used in many fields including computer graphics, navigation, and physics.</p>
      </div>
      <div class="graph">
        <div class="graph-title">Different Perspectives</div>
        <canvas id="concept-transformations-graph" width="300" height="150"></canvas>
        <div class="graph-legend">
          <div class="legend-item">
            <div class="legend-color" style="background-color: #2b6cb0;"></div>
            <span>Original View</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background-color: #16a085;"></div>
            <span>Transformed View</span>
          </div>
        </div>
      </div>
    </div>
    
    <div class="concept-point">
      <h4>Key Properties</h4>
      <p>‚Ä¢ The actual geometry doesn't change</p>
      <p>‚Ä¢ Only our description of it changes</p>
      <p>‚Ä¢ Can make complex problems simpler</p>
      <p>‚Ä¢ Essential for advanced mathematics</p>
    </div>
  </div>
</div>

<div class="concept-explanation">
  <p><strong>Real World Analogy:</strong> Imagine you're looking at a building. Sometimes it's easier to describe windows from the ground (original coordinates), and sometimes from a helicopter above (transformed coordinates). Both describe the same building, just from different perspectives!</p>
</div>

<div class="scenario">
<div class="card-mini" onclick="toggleScenario('intro','perspective')">
<div class="icon">üëÅÔ∏è</div>
<div style="font-weight:700">Different Perspectives</div>
<div class="explain" id="intro-perspective">
<div class="show-explain">
<b>Key Insight:</b> The same object can be described differently depending on where you're standing and which way you're facing.
</div>
</div>
</div>
<div class="card-mini" onclick="toggleScenario('intro','simplify')">
<div class="icon">‚ú®</div>
<div style="font-weight:700">Simplify Problems</div>
<div class="explain" id="intro-simplify">
<div class="show-explain">
<b>Key Insight:</b> Some math problems become much easier when we change our coordinate system.
</div>
</div>
</div>
<div class="card-mini" onclick="toggleScenario('intro','realworld')">
<div class="icon">üåç</div>
<div style="font-weight:700">Real Applications</div>
<div class="explain" id="intro-realworld">
<div class="show-explain">
<b>Key Insight:</b> GPS, computer graphics, and robotics all use coordinate transformations!
</div>
</div>
</div>
</div>

<div class="cartoon-box">
<div class="cartoon-icon">üè¢</div>
<div class="cartoon-text">
<h3>Building View Example</h3>
<p>Think of a tall building. From the ground, you describe windows as "5th floor, 3rd from left." From a helicopter, you might say "50 meters north, 20 meters east." Both describe the same window!</p>
</div>
</div>
</section>

<!-- Translation of Axes -->
<div class="divider" id="translation-section"><i class="fas fa-arrows-alt"></i> Translation of Axes</div>
<section class="card animate delay-2">
<h2><i class="fas fa-location-arrow"></i> Moving the Coordinate System</h2>
<p class="lead">Learn how to shift the origin to a new location without changing the axes direction.</p>

<!-- Enhanced Concept Explanation -->
<div class="concept-explainer">
  <div class="concept-header" onclick="toggleConcept('concept-translation')">
    <h3>Understanding Translation</h3>
    <button class="concept-toggle">+</button>
  </div>
  <div class="concept-content" id="concept-translation">
    <div class="concept-point">
      <h4>What is Translation?</h4>
      <p>Translation involves moving the entire coordinate system to a new location while keeping the axes parallel to their original directions.</p>
    </div>
    
    <div class="concept-point">
      <h4>How Does Translation Work?</h4>
      <p>When we translate axes, we're picking up our entire coordinate system and moving it to a new location. The grid lines stay parallel to their original direction - we're just changing where we call (0,0).</p>
      <p>If the new origin is at O'(h, k), then:</p>
      <p>New Coordinates: \( X = x - h \), \( Y = y - k \)</p>
      <p>Original Coordinates: \( x = X + h \), \( y = Y + k \)</p>
    </div>
    
    <div class="concept-visual">
      <div class="text">
        <h4>Visual Representation</h4>
        <p>Imagine your city builds a new downtown. All addresses change relative to this new center, but streets stay in the same direction.</p>
        <p>This is exactly what happens in coordinate translation - we're just changing our reference point.</p>
      </div>
      <div class="graph">
        <div class="graph-title">Translation of Axes</div>
        <canvas id="concept-translation-graph" width="300" height="150"></canvas>
        <div class="graph-legend">
          <div class="legend-item">
            <div class="legend-color" style="background-color: #2b6cb0;"></div>
            <span>Original System</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background-color: #16a085;"></div>
            <span>Translated System</span>
          </div>
        </div>
      </div>
    </div>
    
    <div class="concept-point">
      <h4>Key Properties</h4>
      <p>‚Ä¢ Only the origin moves</p>
      <p>‚Ä¢ Axes directions remain unchanged</p>
      <p>‚Ä¢ Distances and angles are preserved</p>
      <p>‚Ä¢ Useful for centering coordinate systems</p>
    </div>
  </div>
</div>

<div class="definition">
<b>Translation Formulas:</b> If the new origin is at O'(h, k):
<br>New Coordinates: \( X = x - h \), \( Y = y - k \)
<br>Original Coordinates: \( x = X + h \), \( y = Y + k \)
<p class="visual-hint">üí° <strong>Memory Tip:</strong> "New = Old - Origin" for translation!</p>
</div>

<div class="scenario">
<div class="card-mini" onclick="toggleScenario('trans','city')">
<div class="icon">üèôÔ∏è</div>
<div style="font-weight:700">New City Center</div>
<div class="explain" id="trans-city">
<div class="show-explain">
<b>Easy:</b> Imagine your city builds a new downtown. All addresses change relative to this new center, but streets stay in the same direction.
</div>
</div>
</div>
<div class="card-mini" onclick="toggleScenario('trans','classroom')">
<div class="icon">üè´</div>
<div style="font-weight:700">New Classroom</div>
<div class="explain" id="trans-classroom">
<div class="show-explain">
<b>Easy:</b> If your class moves to a new room, your seat position changes relative to the new front, but the classroom layout stays the same.
</div>
</div>
</div>
<div class="card-mini" onclick="toggleScenario('trans','map')">
<div class="icon">üó∫Ô∏è</div>
<div style="font-weight:700">New Map Center</div>
<div class="explain" id="trans-map">
<div class="show-explain">
<b>Easy:</b> When you center a map on a new location, all coordinates change but the map itself doesn't rotate.
</div>
</div>
</div>
</div>

<div class="cartoon-box">
<div class="cartoon-icon">üö∂‚Äç‚ôÇÔ∏è</div>
<div class="cartoon-text">
<h3>Walking to a New Town</h3>
<p>Imagine you're in your hometown where your house is at (0,0). If you walk to a new town and make the town square your new (0,0), your house now has new coordinates relative to this new center!</p>
</div>
</div>

<div class="example-container">
<div class="example-box">
<div class="example-icon">üìç</div>
<div class="big">Example 1: P(3,2) with O'(1,3)</div>
<p class="small-note">Find the new coordinates of point P when we move the origin to O'</p>
<div class="controls">
<button class="step-btn" onclick="startSteps('trans1')"><i class="fas fa-play"></i> Show Steps</button>
</div>
<div class="step-block" id="trans1">
<div class="step-line" id="trans1_step1"><b>Step 1:</b> Identify what we know: Original point P(3,2), New origin O'(1,3)</div>
<div class="step-line" id="trans1_step2"><b>Step 2:</b> Use translation formula for X-coordinate: \( X = x - h = 3 - 1 = 2 \)</div>
<div class="step-line" id="trans1_step3"><b>Step 3:</b> Use translation formula for Y-coordinate: \( Y = y - k = 2 - 3 = -1 \)</div>
<div class="step-line" id="trans1_step4"><b>Step 4:</b> Interpret the result: In the new coordinate system, point P is at (2, -1)</div>
<div class="step-line" id="trans1_step5"><b>Understanding:</b> This means point P is 2 units right and 1 unit down from our new origin O'</div>
<div style="margin-top:8px">
<button class="next-step" onclick="nextStep('trans1')">Next Step</button>
</div>
</div>

<div class="graph-container">
<div class="graph-box">
<div class="graph-title">Original System</div>
<div class="coord-system">
<div class="axis x-axis"></div>
<div class="axis y-axis"></div>
<div class="point" style="top: 30%; left: 70%;"></div>
<div class="point-label" style="top: 25%; left: 75%;">P(3,2)</div>
<div class="point" style="top: 70%; left: 30%; background: var(--primary-light);"></div>
<div class="point-label" style="top: 75%; left: 25%; color: var(--primary-light);">O'(1,3)</div>
</div>
</div>
<div class="graph-box">
<div class="graph-title">After Translation</div>
<div class="coord-system">
<div class="axis x-axis"></div>
<div class="axis y-axis"></div>
<div class="point" style="top: 70%; left: 70%;"></div>
<div class="point-label" style="top: 65%; left: 75%;">P(2,-1)</div>
<div class="point" style="top: 50%; left: 50%; background: var(--primary-light);"></div>
<div class="point-label" style="top: 55%; left: 45%; color: var(--primary-light);">O'(0,0)</div>
</div>
</div>
</div>
</div>

<div class="example-box">
<div class="example-icon">üó∫Ô∏è</div>
<div class="big">Example 2: P(-2,6) with O'(-3,2)</div>
<p class="small-note">Find new coordinates when both point and origin have negative values</p>
<div class="controls">
<button class="step-btn" onclick="startSteps('trans2')"><i class="fas fa-play"></i> Show Steps</button>
</div>
<div class="step-block" id="trans2">
<div class="step-line" id="trans2_step1"><b>Step 1:</b> Identify: P(-2,6), O'(-3,2). Notice both have negative x-values</div>
<div class="step-line" id="trans2_step2"><b>Step 2:</b> Calculate X: \( X = -2 - (-3) = -2 + 3 = 1 \) (Careful with negative signs!)</div>
<div class="step-line" id="trans2_step3"><b>Step 3:</b> Calculate Y: \( Y = 6 - 2 = 4 \)</div>
<div class="step-line" id="trans2_step4"><b>Step 4:</b> New coordinates: (1, 4)</div>
<div class="step-line" id="trans2_step5"><b>Understanding:</b> Even though P was left of the old origin, it's now right of the new origin!</div>
<div style="margin-top:8px">
<button class="next-step" onclick="nextStep('trans2')">Next Step</button>
</div>
</div>

<div class="graph-container">
<div class="graph-box">
<div class="graph-title">Original System</div>
<div class="coord-system">
<div class="axis x-axis"></div>
<div class="axis y-axis"></div>
<div class="point" style="top: 20%; left: 40%;"></div>
<div class="point-label" style="top: 15%; left: 45%;">P(-2,6)</div>
<div class="point" style="top: 60%; left: 35%; background: var(--primary-light);"></div>
<div class="point-label" style="top: 65%; left: 30%; color: var(--primary-light);">O'(-3,2)</div>
</div>
</div>
<div class="graph-box">
<div class="graph-title">After Translation</div>
<div class="coord-system">
<div class="axis x-axis"></div>
<div class="axis y-axis"></div>
<div class="point" style="top: 20%; left: 55%;"></div>
<div class="point-label" style="top: 15%; left: 60%;">P(1,4)</div>
<div class="point" style="top: 50%; left: 50%; background: var(--primary-light);"></div>
<div class="point-label" style="top: 55%; left: 45%; color: var(--primary-light);">O'(0,0)</div>
</div>
</div>
</div>
</div>

<div class="example-box">
<div class="example-icon">üßÆ</div>
<div class="big">Example 3: Reverse Translation</div>
<p class="small-note">Find original coordinates when we know new coordinates and translation</p>
<div class="controls">
<button class="step-btn" onclick="startSteps('trans3')"><i class="fas fa-play"></i> Show Steps</button>
</div>
<div class="step-block" id="trans3">
<div class="step-line" id="trans3_step1"><b>Problem:</b> A point has coordinates (8,10) in a system with origin O'(3,4). Find its original coordinates.</div>
<div class="step-line" id="trans3_step2"><b>Step 1:</b> Use reverse formulas: \( x = X + h \), \( y = Y + k \)</div>
<div class="step-line" id="trans3_step3"><b>Step 2:</b> Calculate x: \( x = 8 + 3 = 11 \)</div>
<div class="step-line" id="trans3_step4"><b>Step 3:</b> Calculate y: \( y = 10 + 4 = 14 \)</div>
<div class="step-line" id="trans3_step5"><b>Step 4:</b> Original coordinates: (11, 14)</div>
<div class="step-line" id="trans3_step6"><b>Understanding:</b> The point that was at (8,10) relative to O' was actually at (11,14) in the original system</div>
<div style="margin-top:8px">
<button class="next-step" onclick="nextStep('trans3')">Next Step</button>
</div>
</div>

<div class="graph-container">
<div class="graph-box">
<div class="graph-title">Translated System</div>
<div class="coord-system">
<div class="axis x-axis"></div>
<div class="axis y-axis"></div>
<div class="point" style="top: 10%; left: 80%;"></div>
<div class="point-label" style="top: 5%; left: 85%;">P(8,10)</div>
<div class="point" style="top: 50%; left: 50%; background: var(--primary-light);"></div>
<div class="point-label" style="top: 55%; left: 45%; color: var(--primary-light);">O'(0,0)</div>
</div>
</div>
<div class="graph-box">
<div class="graph-title">Original System</div>
<div class="coord-system">
<div class="axis x-axis"></div>
<div class="axis y-axis"></div>
<div class="point" style="top: 10%; left: 85%;"></div>
<div class="point-label" style="top: 5%; left: 90%;">P(11,14)</div>
<div class="point" style="top: 60%; left: 65%; background: var(--primary-light);"></div>
<div class="point-label" style="top: 65%; left: 60%; color: var(--primary-light);">O'(3,4)</div>
<div class="point" style="top: 50%; left: 50%; background: #ffd166;"></div>
<div class="point-label" style="top: 55%; left: 45%; color: #b36b00;">O(0,0)</div>
</div>
</div>
</div>
</div>
</div>

<div class="try-yourself">
<div class="try-title"><i class="fas fa-pencil-alt"></i> Try It Yourself: Translation</div>
<p>1. Find XY-coordinates of P(5,7) with O'(2,3)</p>
<div class="row">
<input id="ttrans1" placeholder="Type as (x,y)">
<button class="check" onclick="checkTextMotivate('ttrans1','(3,4)','ttrans1_res')">Check</button>
</div>
<div id="ttrans1_res" class="result"></div>

<p>2. A point has coordinates (-5,-3) in a system with origin O'(-2,-6). Find its original coordinates.</p>
<div class="row">
<input id="ttrans2" placeholder="Type as (x,y)">
<button class="check" onclick="checkTextMotivate('ttrans2','(-7,-9)','ttrans2_res')">Check</button>
</div>
<div id="ttrans2_res" class="result"></div>
</div>

<div class="calm">
<div class="wave">üåä</div>
<div style="font-weight:700">Calm: Imagine sliding a piece of graph paper to a new spot.</div>
</div>
</section>

<!-- Rotation of Axes -->
<div class="divider" id="rotation-section"><i class="fas fa-redo"></i> Rotation of Axes</div>
<section class="card animate delay-3">
<h2><i class="fas fa-sync"></i> Turning the Coordinate System</h2>
<p class="lead">Learn how to rotate the axes while keeping the origin fixed.</p>

<!-- Enhanced Concept Explanation -->
<div class="concept-explainer">
  <div class="concept-header" onclick="toggleConcept('concept-rotation')">
    <h3>Understanding Rotation</h3>
    <button class="concept-toggle">+</button>
  </div>
  <div class="concept-content" id="concept-rotation">
    <div class="concept-point">
      <h4>What is Rotation?</h4>
      <p>Rotation involves turning the entire coordinate system around the origin while keeping the origin fixed.</p>
    </div>
    
    <div class="concept-point">
      <h4>How Does Rotation Work?</h4>
      <p>When we rotate axes, we keep the origin in the same place but turn the entire coordinate system. It's like spinning a map while keeping your finger on one location.</p>
      <p>If axes are rotated by angle Œ∏:</p>
      <p>\( X = x \cos\theta + y \sin\theta \)</p>
      <p>\( Y = y \cos\theta - x \sin\theta \)</p>
    </div>
    
    <div class="concept-visual">
      <div class="text">
        <h4>Visual Representation</h4>
        <p>If you turn your compass to face a new direction, all bearings change but your location stays the same. This is exactly what happens in coordinate rotation.</p>
        <p>This concept is used in physics, engineering, and computer graphics.</p>
      </div>
      <div class="graph">
        <div class="graph-title">Rotation of Axes</div>
        <canvas id="concept-rotation-graph" width="300" height="150"></canvas>
        <div class="graph-legend">
          <div class="legend-item">
            <div class="legend-color" style="background-color: #2b6cb0;"></div>
            <span>Original Axes</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background-color: #16a085;"></div>
            <span>Rotated Axes</span>
          </div>
        </div>
      </div>
    </div>
    
    <div class="concept-point">
      <h4>Key Properties</h4>
      <p>‚Ä¢ Origin stays fixed</p>
      <p>‚Ä¢ Axes directions change</p>
      <p>‚Ä¢ Distances are preserved</p>
      <p>‚Ä¢ Angles between lines change</p>
    </div>
  </div>
</div>

<div class="definition">
<b>Rotation Formulas:</b> If axes are rotated by angle Œ∏:
<br>\( X = x \cos\theta + y \sin\theta \)
<br>\( Y = y \cos\theta - x \sin\theta \)
<p class="visual-hint">üí° <strong>Memory Tip:</strong> For X, use cosine with x and sine with y. For Y, swap and subtract!</p>
</div>

<div class="scenario">
<div class="card-mini" onclick="toggleScenario('rot','compass')">
<div class="icon">üß≠</div>
<div style="font-weight:700">New North Direction</div>
<div class="explain" id="rot-compass">
<div class="show-explain">
<b>Easy:</b> If you turn your compass to face a new direction, all bearings change but your location stays the same.
</div>
</div>
</div>
<div class="card-mini" onclick="toggleScenario('rot','camera')">
<div class="icon">üì∑</div>
<div style="font-weight:700">Camera Rotation</div>
<div class="explain" id="rot-camera">
<div class="show-explain">
<b>Easy:</b> When you rotate a camera, objects appear in different positions in the frame, but they haven't actually moved.
</div>
</div>
</div>
<div class="card-mini" onclick="toggleScenario('rot','dance')">
<div class="icon">üíÉ</div>
<div style="font-weight:700">Dance Turn</div>
<div class="explain" id="rot-dance">
<div class="show-explain">
<b>Easy:</b> When you spin while dancing, the room appears to rotate around you, but you stay in the same spot.
</div>
</div>
</div>
</div>

<div class="cartoon-box">
<div class="cartoon-icon">üé°</div>
<div class="cartoon-text">
<h3>Ferris Wheel View</h3>
<p>Imagine you're on a Ferris wheel. As you rotate, buildings appear to move around you, but actually you're the one spinning! This is exactly what happens when we rotate coordinate axes.</p>
</div>
</div>

<div class="example-container">
<div class="example-box">
<div class="example-icon">üìç</div>
<div class="big">Example 1: P(5,3) with Œ∏=45¬∞</div>
<p class="small-note">Find new coordinates when we rotate the axes by 45 degrees</p>
<div class="controls">
<button class="step-btn" onclick="startSteps('rot1')"><i class="fas fa-play"></i> Show Steps</button>
</div>
<div class="step-block" id="rot1">
<div class="step-line" id="rot1_step1"><b>Step 1:</b> Identify: P(5,3), Œ∏=45¬∞. We need cos45¬∞ and sin45¬∞</div>
<div class="step-line" id="rot1_step2"><b>Step 2:</b> Recall: \( \cos45¬∞ = \sin45¬∞ = \frac{1}{\sqrt{2}} \)</div>
<div class="step-line" id="rot1_step3"><b>Step 3:</b> Calculate X: \( X = 5 \cdot \frac{1}{\sqrt{2}} + 3 \cdot \frac{1}{\sqrt{2}} = \frac{8}{\sqrt{2}} = 4\sqrt{2} \)</div>
<div class="step-line" id="rot1_step4"><b>Step 4:</b> Calculate Y: \( Y = 3 \cdot \frac{1}{\sqrt{2}} - 5 \cdot \frac{1}{\sqrt{2}} = -\frac{2}{\sqrt{2}} = -\sqrt{2} \)</div>
<div class="step-line" id="rot1_step5"><b>Step 5:</b> New coordinates: \( (4\sqrt{2}, -\sqrt{2}) \)</div>
<div class="step-line" id="rot1_step6"><b>Understanding:</b> After rotating 45¬∞, the point is mostly in the positive X direction with a small negative Y</div>
<div style="margin-top:8px">
<button class="next-step" onclick="nextStep('rot1')">Next Step</button>
</div>
</div>

<div class="graph-container">
<div class="graph-box">
<div class="graph-title">Original System</div>
<div class="coord-system">
<div class="axis x-axis"></div>
<div class="axis y-axis"></div>
<div class="point" style="top: 30%; left: 70%;"></div>
<div class="point-label" style="top: 25%; left: 75%;">P(5,3)</div>
</div>
</div>
<div class="graph-box">
<div class="graph-title">After 45¬∞ Rotation</div>
<div class="coord-system">
<div class="axis x-axis new-axis" style="transform: rotate(45deg); transform-origin: 50% 50%;"></div>
<div class="axis y-axis new-axis" style="transform: rotate(45deg); transform-origin: 50% 50%;"></div>
<div class="point" style="top: 60%; left: 80%;"></div>
<div class="point-label" style="top: 55%; left: 85%;">P(4‚àö2,-‚àö2)</div>
</div>
</div>
</div>
</div>

<div class="example-box">
<div class="example-icon">üó∫Ô∏è</div>
<div class="big">Example 2: P(3,-7) with Œ∏=30¬∞</div>
<p class="small-note">Rotation with a point in the fourth quadrant</p>
<div class="controls">
<button class="step-btn" onclick="startSteps('rot2')"><i class="fas fa-play"></i> Show Steps</button>
</div>
<div class="step-block" id="rot2">
<div class="step-line" id="rot2_step1"><b>Step 1:</b> Identify: P(3,-7), Œ∏=30¬∞. We need cos30¬∞ and sin30¬∞</div>
<div class="step-line" id="rot2_step2"><b>Step 2:</b> Recall: \( \cos30¬∞ = \frac{\sqrt{3}}{2}, \sin30¬∞ = \frac{1}{2} \)</div>
<div class="step-line" id="rot2_step3"><b>Step 3:</b> Calculate X: \( X = 3 \cdot \frac{\sqrt{3}}{2} + (-7) \cdot \frac{1}{2} = \frac{3\sqrt{3} - 7}{2} \)</div>
<div class="step-line" id="rot2_step4"><b>Step 4:</b> Calculate Y: \( Y = (-7) \cdot \frac{\sqrt{3}}{2} - 3 \cdot \frac{1}{2} = \frac{-7\sqrt{3} - 3}{2} \)</div>
<div class="step-line" id="rot2_step5"><b>Step 5:</b> New coordinates: \( \left( \frac{3\sqrt{3} - 7}{2}, \frac{-7\sqrt{3} - 3}{2} \right) \)</div>
<div class="step-line" id="rot2_step6"><b>Understanding:</b> Both coordinates are negative after rotation, placing the point in the third quadrant of the new system</div>
<div style="margin-top:8px">
<button class="next-step" onclick="nextStep('rot2')">Next Step</button>
</div>
</div>

<div class="graph-container">
<div class="graph-box">
<div class="graph-title">Original System</div>
<div class="coord-system">
<div class="axis x-axis"></div>
<div class="axis y-axis"></div>
<div class="point" style="top: 70%; left: 65%;"></div>
<div class="point-label" style="top: 75%; left: 70%;">P(3,-7)</div>
</div>
</div>
<div class="graph-box">
<div class="graph-title">After 30¬∞ Rotation</div>
<div class="coord-system">
<div class="axis x-axis new-axis" style="transform: rotate(30deg); transform-origin: 50% 50%;"></div>
<div class="axis y-axis new-axis" style="transform: rotate(30deg); transform-origin: 50% 50%;"></div>
<div class="point" style="top: 75%; left: 40%;"></div>
<div class="point-label" style="top: 80%; left: 35%;">P(new)</div>
</div>
</div>
</div>
</div>

<div class="example-box">
<div class="example-icon">üßÆ</div>
<div class="big">Example 3: Special Angle - arctan(1/3)</div>
<p class="small-note">When the rotation angle is given as an inverse trigonometric function</p>
<div class="controls">
<button class="step-btn" onclick="startSteps('rot3')"><i class="fas fa-play"></i> Show Steps</button>
</div>
<div class="step-block" id="rot3">
<div class="step-line" id="rot3_step1"><b>Step 1:</b> Identify: P(15,10), Œ∏ = arctan(1/3). This means tanŒ∏ = 1/3</div>
<div class="step-line" id="rot3_step2"><b>Step 2:</b> Find sinŒ∏ and cosŒ∏ using a right triangle with opposite=1, adjacent=3</div>
<div class="step-line" id="rot3_step3"><b>Step 3:</b> Hypotenuse = \( \sqrt{1^2 + 3^2} = \sqrt{10} \)</div>
<div class="step-line" id="rot3_step4"><b>Step 4:</b> So \( \sin\theta = \frac{1}{\sqrt{10}}, \cos\theta = \frac{3}{\sqrt{10}} \)</div>
<div class="step-line" id="rot3_step5"><b>Step 5:</b> Calculate X: \( X = 15 \cdot \frac{3}{\sqrt{10}} + 10 \cdot \frac{1}{\sqrt{10}} = \frac{55}{\sqrt{10}} \)</div>
<div class="step-line" id="rot3_step6"><b>Step 6:</b> Calculate Y: \( Y = 10 \cdot \frac{3}{\sqrt{10}} - 15 \cdot \frac{1}{\sqrt{10}} = \frac{15}{\sqrt{10}} \)</div>
<div class="step-line" id="rot3_step7"><b>Step 7:</b> New coordinates: \( \left( \frac{55}{\sqrt{10}}, \frac{15}{\sqrt{10}} \right) \)</div>
<div class="step-line" id="rot3_step8"><b>Understanding:</b> After this specific rotation, the point has a much larger X-coordinate than Y-coordinate</div>
<div style="margin-top:8px">
<button class="next-step" onclick="nextStep('rot3')">Next Step</button>
</div>
</div>

<div class="graph-container">
<div class="graph-box">
<div class="graph-title">Original System</div>
<div class="coord-system">
<div class="axis x-axis"></div>
<div class="axis y-axis"></div>
<div class="point" style="top: 33%; left: 83%;"></div>
<div class="point-label" style="top: 28%; left: 88%;">P(15,10)</div>
</div>
</div>
<div class="graph-box">
<div class="graph-title">After Rotation (Œ∏‚âà18.4¬∞)</div>
<div class="coord-system">
<div class="axis x-axis new-axis" style="transform: rotate(18.4deg); transform-origin: 50% 50%;"></div>
<div class="axis y-axis new-axis" style="transform: rotate(18.4deg); transform-origin: 50% 50%;"></div>
<div class="point" style="top: 45%; left: 90%;"></div>
<div class="point-label" style="top: 40%; left: 95%;">P(new)</div>
</div>
</div>
</div>
</div>
</div>

<div class="try-yourself">
<div class="try-title"><i class="fas fa-pencil-alt"></i> Try It Yourself: Rotation</div>
<p>1. Find XY-coordinates of P(0,4) with Œ∏=90¬∞</p>
<div class="row">
<input id="trot1" placeholder="Type as (x,y)">
<button class="check" onclick="checkTextMotivate('trot1','(4,0)','trot1_res')">Check</button>
</div>
<div id="trot1_res" class="result"></div>

<p>2. Find XY-coordinates of P(1,1) with Œ∏=45¬∞</p>
<div class="row">
<input id="trot2" placeholder="Type as (x,y)">
<button class="check" onclick="checkTextMotivate('trot2','(‚àö2,0)','trot2_res')">Check</button>
</div>
<div id="trot2_res" class="result"></div>
</div>

<div class="calm">
<div style="font-size:28px">üòå</div>
<div style="font-weight:700">Calm: Imagine spinning a map while keeping your finger on one spot.</div>
</div>
</section>

<!-- Combined Transformations -->
<div class="divider" id="combined-section"><i class="fas fa-random"></i> Combined Transformations</div>
<section class="card animate delay-4">
<h2><i class="fas fa-sitemap"></i> Translation + Rotation</h2>
<p class="lead">Learn how to apply both translation and rotation to coordinate systems.</p>

<!-- Enhanced Concept Explanation -->
<div class="concept-explainer">
  <div class="concept-header" onclick="toggleConcept('concept-combined')">
    <h3>Understanding Combined Transformations</h3>
    <button class="concept-toggle">+</button>
  </div>
  <div class="concept-content" id="concept-combined">
    <div class="concept-point">
      <h4>What are Combined Transformations?</h4>
      <p>Combined transformations involve both moving the origin (translation) and changing the axes directions (rotation).</p>
    </div>
    
    <div class="concept-point">
      <h4>How Do Combined Transformations Work?</h4>
      <p>When we apply both translation and rotation, we always do translation first, then rotation:</p>
      <p><b>Step 1 (Translation):</b> \( X' = x - h \), \( Y' = y - k \)</p>
      <p><b>Step 2 (Rotation):</b> \( X = X' \cos\theta + Y' \sin\theta \), \( Y = Y' \cos\theta - X' \sin\theta \)</p>
    </div>
    
    <div class="concept-visual">
      <div class="text">
        <h4>Visual Representation</h4>
        <p>Imagine moving to a new city (translation) where all streets are angled differently (rotation). You need both transformations to navigate!</p>
        <p>This concept is used in robotics, computer graphics, and navigation systems.</p>
      </div>
      <div class="graph">
        <div class="graph-title">Combined Transformations</div>
        <canvas id="concept-combined-graph" width="300" height="150"></canvas>
        <div class="graph-legend">
          <div class="legend-item">
            <div class="legend-color" style="background-color: #2b6cb0;"></div>
            <span>Original</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background-color: #16a085;"></div>
            <span>Translated</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background-color: #ec4899;"></div>
            <span>Rotated</span>
          </div>
        </div>
      </div>
    </div>
    
    <div class="concept-point">
      <h4>Key Properties</h4>
      <p>‚Ä¢ Order matters: translate first, then rotate</p>
      <p>‚Ä¢ Can simplify complex geometric problems</p>
      <p>‚Ä¢ Essential for many real-world applications</p>
      <p>‚Ä¢ Requires careful step-by-step approach</p>
    </div>
  </div>
</div>

<div class="definition">
<b>Combined Transformation Steps:</b>
<br>1. <strong>Translation:</strong> \( X' = x - h \), \( Y' = y - k \)
<br>2. <strong>Rotation:</strong> \( X = X' \cos\theta + Y' \sin\theta \), \( Y = Y' \cos\theta - X' \sin\theta \)
<p class="visual-hint">üí° <strong>Order Matters:</strong> Always translate first, then rotate!</p>
</div>

<div class="scenario">
<div class="card-mini" onclick="toggleScenario('comb','newcity')">
<div class="icon">üè¢</div>
<div style="font-weight:700">New City Layout</div>
<div class="explain" id="comb-newcity">
<div class="show-explain">
<b>Easy:</b> Imagine moving to a new city (translation) where all streets are angled differently (rotation).
</div>
</div>
</div>
<div class="card-mini" onclick="toggleScenario('comb','furniture')">
<div class="icon">üõãÔ∏è</div>
<div style="font-weight:700">Rearranging Furniture</div>
<div class="explain" id="comb-furniture">
<div class="show-explain">
<b>Easy:</b> Moving furniture to a new room (translation) and turning it to fit (rotation).
</div>
</div>
</div>
<div class="card-mini" onclick="toggleScenario('comb','park')">
<div class="icon">üé°</div>
<div style="font-weight:700">Amusement Park</div>
<div class="explain" id="comb-park">
<div class="show-explain">
<b>Easy:</b> Walking to a different part of the park (translation) then riding a spinning ride (rotation).
</div>
</div>
</div>
</div>

<div class="cartoon-box">
<div class="cartoon-icon">üöó</div>
<div class="cartoon-text">
<h3>Road Trip Adventure</h3>
<p>Imagine driving to a new city (translation) where all the streets are laid out at different angles than your hometown (rotation). You need both transformations to navigate!</p>
</div>
</div>

<div class="example-container">
<div class="example-box">
<div class="example-icon">üìç</div>
<div class="big">Example: P(4,2) with O'(2,-1) and Œ∏=45¬∞</div>
<p class="small-note">Apply both translation and rotation to find final coordinates</p>
<div class="controls">
<button class="step-btn" onclick="startSteps('comb1')"><i class="fas fa-play"></i> Show Steps</button>
</div>
<div class="step-block" id="comb1">
<div class="step-line" id="comb1_step1"><b>Step 1 (Translation):</b> Move origin to O'(2,-1)</div>
<div class="step-line" id="comb1_step2"><b>Step 2:</b> Calculate translated coordinates: \( X' = 4 - 2 = 2 \), \( Y' = 2 - (-1) = 3 \)</div>
<div class="step-line" id="comb1_step3"><b>Step 3 (Rotation):</b> Now rotate by Œ∏=45¬∞. We need cos45¬∞ and sin45¬∞</div>
<div class="step-line" id="comb1_step4"><b>Step 4:</b> Recall: \( \cos45¬∞ = \sin45¬∞ = \frac{1}{\sqrt{2}} \)</div>
<div class="step-line" id="comb1_step5"><b>Step 5:</b> Calculate final X: \( X = 2 \cdot \frac{1}{\sqrt{2}} + 3 \cdot \frac{1}{\sqrt{2}} = \frac{5}{\sqrt{2}} \)</div>
<div class="step-line" id="comb1_step6"><b>Step 6:</b> Calculate final Y: \( Y = 3 \cdot \frac{1}{\sqrt{2}} - 2 \cdot \frac{1}{\sqrt{2}} = \frac{1}{\sqrt{2}} \)</div>
<div class="step-line" id="comb1_step7"><b>Step 7:</b> Final coordinates: \( \left( \frac{5}{\sqrt{2}}, \frac{1}{\sqrt{2}} \right) \)</div>
<div class="step-line" id="comb1_step8"><b>Understanding:</b> After moving and rotating, the point is mostly in the positive X direction with a small positive Y</div>
<div style="margin-top:8px">
<button class="next-step" onclick="nextStep('comb1')">Next Step</button>
</div>
</div>

<div class="graph-container">
<div class="graph-box">
<div class="graph-title">Original System</div>
<div class="coord-system">
<div class="axis x-axis"></div>
<div class="axis y-axis"></div>
<div class="point" style="top: 40%; left: 70%;"></div>
<div class="point-label" style="top: 35%; left: 75%;">P(4,2)</div>
<div class="point" style="top: 70%; left: 60%; background: var(--primary-light);"></div>
<div class="point-label" style="top: 75%; left: 55%; color: var(--primary-light);">O'(2,-1)</div>
</div>
</div>
<div class="graph-box">
<div class="graph-title">After Translation</div>
<div class="coord-system">
<div class="axis x-axis"></div>
<div class="axis y-axis"></div>
<div class="point" style="top: 20%; left: 60%;"></div>
<div class="point-label" style="top: 15%; left: 65%;">P(2,3)</div>
<div class="point" style="top: 50%; left: 50%; background: var(--primary-light);"></div>
<div class="point-label" style="top: 55%; left: 45%; color: var(--primary-light);">O'(0,0)</div>
</div>
</div>
<div class="graph-box">
<div class="graph-title">After Rotation</div>
<div class="coord-system">
<div class="axis x-axis new-axis" style="transform: rotate(45deg); transform-origin: 50% 50%;"></div>
<div class="axis y-axis new-axis" style="transform: rotate(45deg); transform-origin: 50% 50%;"></div>
<div class="point" style="top: 45%; left: 78%;"></div>
<div class="point-label" style="top: 40%; left: 83%;">P(final)</div>
</div>
</div>
</div>
</div>
</div>

<div class="try-yourself">
<div class="try-title"><i class="fas fa-pencil-alt"></i> Try It Yourself: Combined Transformations</div>
<p>1. Find final coordinates of P(6,4) with O'(1,1) and Œ∏=90¬∞</p>
<div class="row">
<input id="tcomb1" placeholder="Type as (x,y)">
<button class="check" onclick="checkTextMotivate('tcomb1','(3,-5)','tcomb1_res')">Check</button>
</div>
<div id="tcomb1_res" class="result"></div>

<p>2. Find final coordinates of P(3,0) with O'(1,1) and Œ∏=180¬∞</p>
<div class="row">
<input id="tcomb2" placeholder="Type as (x,y)">
<button class="check" onclick="checkTextMotivate('tcomb2','(-2,-1)','tcomb2_res')">Check</button>
</div>
<div id="tcomb2_res" class="result"></div>
</div>

<div class="calm">
<div style="font-size:24px">üåæ</div>
<div style="font-weight:700">Calm: breathe in 3 ‚Äî hold 2 ‚Äî breathe out 4.</div>
</div>
</section>

<!-- Key Differences -->
<div class="divider"><i class="fas fa-exchange-alt"></i> Key Differences & When to Use Each</div>
<section class="card animate delay-4">
<h2><i class="fas fa-balance-scale"></i> Translation vs Rotation</h2>
<p class="lead">Understand when to use each transformation and how they differ.</p>

<div class="scenario">
<div class="card-mini" onclick="toggleScenario('diff','move')">
<div class="icon">üöö</div>
<div style="font-weight:700">Moving House</div>
<div class="explain" id="diff-move">
<div class="show-explain">
<b>Translation:</b> Like moving to a new house - your address changes but furniture stays oriented the same way.
</div>
</div>
</div>
<div class="card-mini" onclick="toggleScenario('diff','turn')">
<div class="icon">üîÑ</div>
<div style="font-weight:700">Turning Around</div>
<div class="explain" id="diff-turn">
<div class="show-explain">
<b>Rotation:</b> Like spinning in place - you see everything from a different angle but stay in the same spot.
</div>
</div>
</div>
<div class="card-mini" onclick="toggleScenario('diff','both')">
<div class="icon">üéØ</div>
<div style="font-weight:700">Both Together</div>
<div class="explain" id="diff-both">
<div class="show-explain">
<b>Combined:</b> Like moving to a new city where all streets are angled differently from your old city.
</div>
</div>
</div>
</div>

<div class="cartoon-box">
<div class="cartoon-icon">üé™</div>
<div class="cartoon-text">
<h3>Circus Performance</h3>
<p>Think of translation as moving your entire circus tent to a new location. Rotation is like spinning on a unicycle while staying in the same spot. Combined is like moving to a new city AND learning to ride a unicycle there!</p>
</div>
</div>

<div class="definition">
<table style="width:100%; border-collapse: collapse; margin-top:10px;">
<tr style="background:#f0f7ff;">
<th style="padding:10px; text-align:left; border-bottom:1px solid #d9ecff;">Feature</th>
<th style="padding:10px; text-align:left; border-bottom:1px solid #d9ecff;">Translation</th>
<th style="padding:10px; text-align:left; border-bottom:1px solid #d9ecff;">Rotation</th>
</tr>
<tr>
<td style="padding:10px; border-bottom:1px solid #d9ecff;"><b>What Changes?</b></td>
<td style="padding:10px; border-bottom:1px solid #d9ecff;">Origin position</td>
<td style="padding:10px; border-bottom:1px solid #d9ecff;">Axes direction</td>
</tr>
<tr>
<td style="padding:10px; border-bottom:1px solid #d9ecff;"><b>Origin</b></td>
<td style="padding:10px; border-bottom:1px solid #d9ecff;">Moves to O'(h,k)</td>
<td style="padding:10px; border-bottom:1px solid #d9ecff;">Stays at (0,0)</td>
</tr>
<tr>
<td style="padding:10px; border-bottom:1px solid #d9ecff;"><b>Axes Orientation</b></td>
<td style="padding:10px; border-bottom:1px solid #d9ecff;">Remains the same</td>
<td style="padding:10px; border-bottom:1px solid #d9ecff;">Changes by angle Œ∏</td>
</tr>
<tr>
<td style="padding:10px; border-bottom:1px solid #d9ecff;"><b>Key Formulas</b></td>
<td style="padding:10px; border-bottom:1px solid #d9ecff;">X = x - h, Y = y - k</td>
<td style="padding:10px; border-bottom:1px solid #d9ecff;">X = x cosŒ∏ + y sinŒ∏<br>Y = y cosŒ∏ - x sinŒ∏</td>
</tr>
<tr>
<td style="padding:10px; border-bottom:1px solid #d9ecff;"><b>When to Use</b></td>
<td style="padding:10px; border-bottom:1px solid #d9ecff;">When you want to change reference point</td>
<td style="padding:10px; border-bottom:1px solid #d9ecff;">When you want to change viewing angle</td>
</tr>
</table>
</div>

<div class="concept-explanation">
<p><strong>Real-World Applications:</strong></p>
<p>‚Ä¢ <strong>Translation:</strong> GPS systems use translation when they switch reference points (from one landmark to another)</p>
<p>‚Ä¢ <strong>Rotation:</strong> Video games use rotation to show characters and objects from different camera angles</p>
<p>‚Ä¢ <strong>Combined:</strong> Robotics uses both translation and rotation to position and orient robot arms</p>
</div>

<div class="try-yourself">
<div class="try-title"><i class="fas fa-pencil-alt"></i> Quick Quiz</div>
<p>1. Which transformation changes the origin position?</p>
<div class="row">
<input id="tquiz1" placeholder="Translation or Rotation">
<button class="check" onclick="checkTextMotivate('tquiz1','translation','tquiz1_res')">Check</button>
</div>
<div id="tquiz1_res" class="result"></div>

<p>2. Which transformation keeps the origin fixed?</p>
<div class="row">
<input id="tquiz2" placeholder="Translation or Rotation">
<button class="check" onclick="checkTextMotivate('tquiz2','rotation','tquiz2_res')">Check</button>
</div>
<div id="tquiz2_res" class="result"></div>

<p>3. In what order should you apply translation and rotation?</p>
<div class="row">
<input id="tquiz3" placeholder="Which first?">
<button class="check" onclick="checkTextMotivate('tquiz3','translation first','tquiz3_res')">Check</button>
</div>
<div id="tquiz3_res" class="result"></div>
</div>

<div class="calm">
<div style="font-size:28px">üñêÔ∏è</div>
<div style="font-weight:700">Calm: trace the movement of translation and rotation in the air.</div>
</div>
</section>

<div class="motivation" style="margin-top:40px; padding: 18px; text-align: center; display: block; border-left: 6px solid var(--accent);">
<div class="motivation-icon">üéì</div>
<div class="motivation-text">You've completed Exercise 4.2 in this simplified style!</div>
<div class="motivation-subtext">Remember, understanding the steps is the most important part of solving these geometry problems.</div>
</div>
</div>
<div class="fab">
<i class="fas fa-book-open"></i>
</div>
<!-- Sound toggle button -->
<button id="soundToggle" class="sound-toggle" aria-pressed="true" title="Toggle ambient sound">
<span class="icon" id="soundIcon">üîà</span>
<span id="soundLabel">Sound On</span>
</button>
<footer class="footer">
<div class="container">
<div class="footer-content">
<div class="footer-about">
<div class="footer-logo">
<div class="footer-logo-icon">S</div>
            Sentellect
          </div>
<p>Personalizing learning through emotions to improve educational experience for HSSC Mathematics.</p>
<div class="social-links">
<a class="social-link" href="#"><i class="fab fa-facebook-f"></i></a>
<a class="social-link" href="#"><i class="fab fa-twitter"></i></a>
<a class="social-link" href="#"><i class="fab fa-instagram"></i></a>
<a class="social-link" href="#"><i class="fab fa-linkedin-in"></i></a>
</div>
</div>
<div class="footer-links">
<h3>Platform</h3>
<ul>
<li><a href="#transformations-section">Transformations</a></li>
<li><a href="#translation-section">Translation</a></li>
<li><a href="#rotation-section">Rotation</a></li>
<li><a href="#combined-section">Combined</a></li>
</ul>
</div>
<div class="footer-links">
<h3>Resources</h3>
<ul>
<li><a href="#">Study Materials</a></li>
<li><a href="#">About Project</a></li>
<li><a href="#">Contact</a></li>
<li><a href="#">Support</a></li>
</ul>
</div>
<div class="footer-links">
<h3>Account</h3>
<ul>
<li><a href="#">Your Account</a></li>
<li><a href="#">Help Center</a></li>
<li><a href="#">Contact Us</a></li>
<li><a href="#">Privacy Policy</a></li>
<li><a href="#">Terms &amp; Conditions</a></li>
</ul>
</div>
</div>
<div class="footer-bottom">
<p>¬© 2025 Sentellect. Final Year Project - Educational Technology.</p>
<div class="footer-tags">
<a class="tag" href="#">PTB HSSC Mathematics</a>
<a class="tag" href="#">Emotion-Aware Learning</a>
<a class="tag" href="#">Coordinate Geometry</a>
</div>
</div>
</div>
</footer>
<script>
    // --- JavaScript Functions ---
    
    // Header scroll effect
    window.addEventListener('scroll', function() {
      const header = document.getElementById('header');
      if (window.scrollY > 50) {
        header.classList.add('scrolled');
      } else {
        header.classList.remove('scrolled');
      }
    });

    // Animation on scroll
    document.addEventListener('DOMContentLoaded', function() {
      const animateElements = document.querySelectorAll('.animate');
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const delay = entry.target.classList.contains('delay-1') ? 0.2 : 
                         entry.target.classList.contains('delay-2') ? 0.4 :
                         entry.target.classList.contains('delay-3') ? 0.6 : 
                         entry.target.classList.contains('delay-4') ? 0.8 : 0;
            
            setTimeout(() => {
              entry.target.style.opacity = 1;
              entry.target.style.transform = 'translateY(0)';
            }, delay * 1000);
          }
        });
      }, { threshold: 0.1 });
      
      animateElements.forEach(element => {
        element.style.opacity = 0;
        element.style.transform = 'translateY(20px)';
        element.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(element);
      });
      
      // Create floating particles for hero section
      createParticles();
      
      // Initialize step blocks
      initStepBlocks();
      
      // Draw concept explanation graphs
      drawConceptGraphs();
    });
    
    // Create particles function
    function createParticles() {
      const particlesContainer = document.querySelector('.particles');
      if (!particlesContainer) return;
      for (let i = 0; i < 15; i++) {
        const particle = document.createElement('div');
        particle.classList.add('particle');
        
        const size = Math.random() * 10 + 5;
        const posX = Math.random() * 100;
        const posY = Math.random() * 100;
        const delay = Math.random() * 5;
        
        particle.style.width = `${size}px`;
        particle.style.height = `${size}px`;
        particle.style.left = `${posX}%`;
        particle.style.top = `${posY}%`;
        particle.style.animationDelay = `${delay}s`;
        
        particlesContainer.appendChild(particle);
      }
    }
    
    // Initialize step-blocks
    function initStepBlocks(){
        document.querySelectorAll('.step-block').forEach(block=>{
            // Hide all steps initially
            Array.from(block.querySelectorAll('.step-line')).forEach(h => h.style.display = 'none');
            
            // Re-wire step buttons to use startSteps/nextStep logic
            const controls = block.closest('.example-box').querySelector('.controls');
            let initialStepBtn = controls.querySelector('.step-btn');

            // If an initial step button exists, give it a block-specific ID for tracking
            if (initialStepBtn) {
                initialStepBtn.id = `start-${block.id}`;
            }

            // Ensure the start button is available and clickable
            initialStepBtn.onclick = function() {
                // Remove all step buttons after first click and replace with 'Next Step' button logic
                controls.innerHTML = '';
                const nextBtn = document.createElement('button');
                nextBtn.className = 'step-btn';
                nextBtn.innerHTML = '<i class="fas fa-forward"></i> Next Step';
                nextBtn.onclick = () => nextStep(block.id);
                controls.appendChild(nextBtn);
                
                // Show the first step
                const steps = document.querySelectorAll(`#${block.id} .step-line`);
                if (steps[0]) steps[0].style.display = 'block';
                block.currentStep = 0;
                
                // If only one step exists, hide the next button
                if (steps.length <= 1) nextBtn.style.display = 'none';
            };
        });
    }

    // Show next step
    function nextStep(id) {
        const block = document.getElementById(id);
        if (!block) return;
        
        const steps = Array.from(block.querySelectorAll('.step-line'));
        const controls = block.closest('.example-box').querySelector('.controls');
        const nextBtn = controls.querySelector('.step-btn');
        
        block.currentStep = (block.currentStep || 0) + 1;
        
        if (block.currentStep < steps.length) {
            steps[block.currentStep].style.display = 'block';
            if (block.currentStep === steps.length - 1) {
                if (nextBtn) nextBtn.style.display = 'none';
            }
        } else {
            if (nextBtn) nextBtn.style.display = 'none';
        }
    }
    
    // Toggle concept explanations
    function toggleConcept(id) {
        const content = document.getElementById(id);
        const toggleBtn = content.previousElementSibling.querySelector('.concept-toggle');
        
        if (content.classList.contains('active')) {
            content.classList.remove('active');
            toggleBtn.textContent = '+';
        } else {
            content.classList.add('active');
            toggleBtn.textContent = '‚àí';
        }
    }
    
    // Check text input answers with motivational feedback
    function checkTextMotivate(inputId, correct, resultId) {
      // Normalize answer for simple checking (remove spaces, parentheses, commas, equals)
      const userAns = document.getElementById(inputId).value.trim().toLowerCase().replace(/[\s\(\),=]/g, '');
      const resultEl = document.getElementById(resultId);
      // Normalize correct answer 
      const correctAns = correct.trim().toLowerCase().replace(/[\s\(\),=]/g, '');
      
      const motivationalMessages = [
        "Great job! You're getting it!",
        "Excellent work! Keep it up!",
        "Perfect! You're mastering this!",
        "Well done! You're on the right track!",
        "Correct! You're doing amazing!"
      ];
      
      const tryAgainMessages = [
        "Almost! Try again with a fresh perspective.",
        "Not quite, but you're close! Try once more.",
        "Good attempt! Let's try that again.",
        "Not exactly, but you're learning! Try again.",
        "Almost there! Give it another shot."
      ];
      
      const randomGood = motivationalMessages[Math.floor(Math.random() * motivationalMessages.length)];
      const randomTry = tryAgainMessages[Math.floor(Math.random() * tryAgainMessages.length)];

      if (userAns === correctAns) {
        resultEl.innerHTML = `‚úÖ ${randomGood}`;
        resultEl.className = "result good";
      } else {
        resultEl.innerHTML = `‚ùå ${randomTry} <br><small>Hint: check your calculation carefully.</small>`;
        resultEl.className = "result warn";
      }
      resultEl.style.display = "block";
    }

    // Toggle scenario explanations
    function toggleScenario(concept, id) {
        const el = document.getElementById(`${concept}-${id}`);
        if (el.style.display === "block") {
            el.style.display = "none";
        } else {
            el.style.display = "block";
        }
    }

    // Draw concept explanation graphs
    function drawConceptGraphs() {
        // Transformations concept graph
        const transformationsCanvas = document.getElementById('concept-transformations-graph');
        if (transformationsCanvas) {
            const ctx = transformationsCanvas.getContext('2d');
            const W = transformationsCanvas.width, H = transformationsCanvas.height;
            const scale = 15;
            const originX = W/2, originY = H/2;
            
            ctx.clearRect(0,0,W,H);
            
            // Draw grid lines
            ctx.strokeStyle = '#e2e8f0';
            ctx.lineWidth = 1;
            
            // Vertical grid lines
            for (let x = -Math.floor(W/(2*scale)); x <= Math.floor(W/(2*scale)); x++) {
                if (x === 0) continue; // Skip the y-axis
                ctx.beginPath();
                ctx.moveTo(originX + x * scale, 0);
                ctx.lineTo(originX + x * scale, H);
                ctx.stroke();
            }
            
            // Horizontal grid lines
            for (let y = -Math.floor(H/(2*scale)); y <= Math.floor(H/(2*scale)); y++) {
                if (y === 0) continue; // Skip the x-axis
                ctx.beginPath();
                ctx.moveTo(0, originY + y * scale);
                ctx.lineTo(W, originY + y * scale);
                ctx.stroke();
            }
            
            // Draw axes
            ctx.strokeStyle = '#9dc2e8'; 
            ctx.lineWidth = 2;
            ctx.beginPath(); 
            ctx.moveTo(0, originY); 
            ctx.lineTo(W, originY); 
            ctx.stroke();
            ctx.beginPath(); 
            ctx.moveTo(originX, 0); 
            ctx.lineTo(originX, H); 
            ctx.stroke();
            
            // Draw points and line
            ctx.strokeStyle = '#2b6cb0';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(originX - 3 * scale, originY + 2 * scale);
            ctx.lineTo(originX + 3 * scale, originY - 2 * scale);
            ctx.stroke();
            
            // Draw point A
            ctx.fillStyle = '#2b6cb0';
            ctx.beginPath();
            ctx.arc(originX - 3 * scale, originY + 2 * scale, 4, 0, Math.PI * 2);
            ctx.fill();
            
            // Draw point B
            ctx.fillStyle = '#16a085';
            ctx.beginPath();
            ctx.arc(originX + 3 * scale, originY - 2 * scale, 4, 0, Math.PI * 2);
            ctx.fill();
            
            // Add axis labels
            ctx.fillStyle = '#64748b';
            ctx.font = '12px Segoe UI';
            ctx.fillText('x', W - 10, originY - 5);
            ctx.fillText('y', originX + 5, 15);
        }
        
        // Translation concept graph
        const translationCanvas = document.getElementById('concept-translation-graph');
        if (translationCanvas) {
            const ctx = translationCanvas.getContext('2d');
            const W = translationCanvas.width, H = translationCanvas.height;
            const scale = 15;
            const originX = W/2, originY = H/2;
            
            ctx.clearRect(0,0,W,H);
            
            // Draw grid lines
            ctx.strokeStyle = '#e2e8f0';
            ctx.lineWidth = 1;
            
            // Vertical grid lines
            for (let x = -Math.floor(W/(2*scale)); x <= Math.floor(W/(2*scale)); x++) {
                if (x === 0) continue; // Skip the y-axis
                ctx.beginPath();
                ctx.moveTo(originX + x * scale, 0);
                ctx.lineTo(originX + x * scale, H);
                ctx.stroke();
            }
            
            // Horizontal grid lines
            for (let y = -Math.floor(H/(2*scale)); y <= Math.floor(H/(2*scale)); y++) {
                if (y === 0) continue; // Skip the x-axis
                ctx.beginPath();
                ctx.moveTo(0, originY + y * scale);
                ctx.lineTo(W, originY + y * scale);
                ctx.stroke();
            }
            
            // Draw axes
            ctx.strokeStyle = '#9dc2e8'; 
            ctx.lineWidth = 2;
            ctx.beginPath(); 
            ctx.moveTo(0, originY); 
            ctx.lineTo(W, originY); 
            ctx.stroke();
            ctx.beginPath(); 
            ctx.moveTo(originX, 0); 
            ctx.lineTo(originX, H); 
            ctx.stroke();
            
            // Draw points and line
            ctx.strokeStyle = '#2b6cb0';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(originX - 3 * scale, originY + 2 * scale);
            ctx.lineTo(originX + 3 * scale, originY - 2 * scale);
            ctx.stroke();
            
            // Draw point A
            ctx.fillStyle = '#2b6cb0';
            ctx.beginPath();
            ctx.arc(originX - 3 * scale, originY + 2 * scale, 4, 0, Math.PI * 2);
            ctx.fill();
            
            // Draw point B
            ctx.fillStyle = '#16a085';
            ctx.beginPath();
            ctx.arc(originX + 3 * scale, originY - 2 * scale, 4, 0, Math.PI * 2);
            ctx.fill();
            
            // Draw translated origin
            ctx.fillStyle = '#ec4899';
            ctx.beginPath();
            ctx.arc(originX, originY, 4, 0, Math.PI * 2);
            ctx.fill();
            
            // Add axis labels
            ctx.fillStyle = '#64748b';
            ctx.font = '12px Segoe UI';
            ctx.fillText('x', W - 10, originY - 5);
            ctx.fillText('y', originX + 5, 15);
        }
        
        // Rotation concept graph
        const rotationCanvas = document.getElementById('concept-rotation-graph');
        if (rotationCanvas) {
            const ctx = rotationCanvas.getContext('2d');
            const W = rotationCanvas.width, H = rotationCanvas.height;
            const scale = 15;
            const originX = W/2, originY = H/2;
            
            ctx.clearRect(0,0,W,H);
            
            // Draw grid lines
            ctx.strokeStyle = '#e2e8f0';
            ctx.lineWidth = 1;
            
            // Vertical grid lines
            for (let x = -Math.floor(W/(2*scale)); x <= Math.floor(W/(2*scale)); x++) {
                if (x === 0) continue; // Skip the y-axis
                ctx.beginPath();
                ctx.moveTo(originX + x * scale, 0);
                ctx.lineTo(originX + x * scale, H);
                ctx.stroke();
            }
            
            // Horizontal grid lines
            for (let y = -Math.floor(H/(2*scale)); y <= Math.floor(H/(2*scale)); y++) {
                if (y === 0) continue; // Skip the x-axis
                ctx.beginPath();
                ctx.moveTo(0, originY + y * scale);
                ctx.lineTo(W, originY + y * scale);
                ctx.stroke();
            }
            
            // Draw axes
            ctx.strokeStyle = '#9dc2e8'; 
            ctx.lineWidth = 2;
            ctx.beginPath(); 
            ctx.moveTo(0, originY); 
            ctx.lineTo(W, originY); 
            ctx.stroke();
            ctx.beginPath(); 
            ctx.moveTo(originX, 0); 
            ctx.lineTo(originX, H); 
            ctx.stroke();
            
            // Draw rotated axes
            ctx.strokeStyle = '#16a085';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(originX - 4 * scale * Math.cos(Math.PI/4), originY + 4 * scale * Math.sin(Math.PI/4));
            ctx.lineTo(originX + 4 * scale * Math.cos(Math.PI/4), originY - 4 * scale * Math.sin(Math.PI/4));
            ctx.stroke();
            
            ctx.beginPath();
            ctx.moveTo(originX - 4 * scale * Math.sin(Math.PI/4), originY - 4 * scale * Math.cos(Math.PI/4));
            ctx.lineTo(originX + 4 * scale * Math.sin(Math.PI/4), originY + 4 * scale * Math.cos(Math.PI/4));
            ctx.stroke();
            
            // Draw point
            ctx.fillStyle = '#ff6b6b';
            ctx.beginPath();
            ctx.arc(originX + 2 * scale, originY + 1 * scale, 4, 0, Math.PI * 2);
            ctx.fill();
            
            // Add axis labels
            ctx.fillStyle = '#64748b';
            ctx.font = '12px Segoe UI';
            ctx.fillText('x', W - 10, originY - 5);
            ctx.fillText('y', originX + 5, 15);
        }
        
        // Combined concept graph
        const combinedCanvas = document.getElementById('concept-combined-graph');
        if (combinedCanvas) {
            const ctx = combinedCanvas.getContext('2d');
            const W = combinedCanvas.width, H = combinedCanvas.height;
            const scale = 15;
            const originX = W/2, originY = H/2;
            
            ctx.clearRect(0,0,W,H);
            
            // Draw grid lines
            ctx.strokeStyle = '#e2e8f0';
            ctx.lineWidth = 1;
            
            // Vertical grid lines
            for (let x = -Math.floor(W/(2*scale)); x <= Math.floor(W/(2*scale)); x++) {
                if (x === 0) continue; // Skip the y-axis
                ctx.beginPath();
                ctx.moveTo(originX + x * scale, 0);
                ctx.lineTo(originX + x * scale, H);
                ctx.stroke();
            }
            
            // Horizontal grid lines
            for (let y = -Math.floor(H/(2*scale)); y <= Math.floor(H/(2*scale)); y++) {
                if (y === 0) continue; // Skip the x-axis
                ctx.beginPath();
                ctx.moveTo(0, originY + y * scale);
                ctx.lineTo(W, originY + y * scale);
                ctx.stroke();
            }
            
            // Draw original axes
            ctx.strokeStyle = '#2b6cb0'; 
            ctx.lineWidth = 2;
            ctx.beginPath(); 
            ctx.moveTo(0, originY); 
            ctx.lineTo(W, originY); 
            ctx.stroke();
            ctx.beginPath(); 
            ctx.moveTo(originX, 0); 
            ctx.lineTo(originX, H); 
            ctx.stroke();
            
            // Draw translated axes
            ctx.strokeStyle = '#16a085';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(originX - 4 * scale, originY + 2 * scale);
            ctx.lineTo(originX + 4 * scale, originY + 2 * scale);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.moveTo(originX - 1 * scale, originY - 2 * scale);
            ctx.lineTo(originX - 1 * scale, originY + 6 * scale);
            ctx.stroke();
            
            // Draw rotated axes
            ctx.strokeStyle = '#ec4899';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(originX - 3 * scale * Math.cos(Math.PI/4), originY + 3 * scale * Math.sin(Math.PI/4));
            ctx.lineTo(originX + 3 * scale * Math.cos(Math.PI/4), originY - 3 * scale * Math.sin(Math.PI/4));
            ctx.stroke();
            
            ctx.beginPath();
            ctx.moveTo(originX - 3 * scale * Math.sin(Math.PI/4), originY - 3 * scale * Math.cos(Math.PI/4));
            ctx.lineTo(originX + 3 * scale * Math.sin(Math.PI/4), originY + 3 * scale * Math.cos(Math.PI/4));
            ctx.stroke();
            
            // Add axis labels
            ctx.fillStyle = '#64748b';
            ctx.font = '12px Segoe UI';
            ctx.fillText('x', W - 10, originY - 5);
            ctx.fillText('y', originX + 5, 15);
        }
    }
    
    // Audio context for ambient sounds
    let audioContext;
    let oscillator;
    let gainNode;
    let isPlaying = false;

    // Initialize audio
    function initAudio() {
        try {
            audioContext = new (window.AudioContext || window.webkitAudioContext)();
            gainNode = audioContext.createGain();
            gainNode.gain.value = 0.3; // Louder volume
            gainNode.connect(audioContext.destination);
            
            // Create a gentle oscillator (like a soft chime)
            oscillator = audioContext.createOscillator();
            oscillator.type = 'sine';
            oscillator.frequency.value = 330; // Pleasant frequency
            oscillator.connect(gainNode);
            
            // Start the oscillator but immediately pause it
            oscillator.start();
            oscillator.stop();
            isPlaying = false;
        } catch (e) {
            console.log("Audio not supported or blocked by browser");
        }
    }

    // Play a gentle sound
    function playGentleSound() {
        if (!audioContext || !isPlaying) return;
        
        try {
            // Create a new oscillator for each chime
            const chime = audioContext.createOscillator();
            const chimeGain = audioContext.createGain();
            
            chime.type = 'sine';
            chime.frequency.value = 330 + Math.random() * 100; // Slight variation
            chime.connect(chimeGain);
            chimeGain.connect(gainNode);
            
            // Fade in and out
            const now = audioContext.currentTime;
            chimeGain.gain.setValueAtTime(0, now);
            chimeGain.gain.linearRampToValueAtTime(0.3, now + 0.1); // Louder
            chimeGain.gain.exponentialRampToValueAtTime(0.001, now + 2);
            
            chime.start(now);
            chime.stop(now + 2);
        } catch (e) {
            console.log("Error playing sound");
        }
    }

    // Toggle sound on/off
    function toggleSound() {
        const soundToggle = document.getElementById('soundToggle');
        const soundIcon = document.getElementById('soundIcon');
        const soundLabel = document.getElementById('soundLabel');
        
        if (!audioContext) {
            initAudio();
        }
        
        isPlaying = !isPlaying;
        
        if (isPlaying) {
            soundIcon.textContent = 'üîà';
            soundLabel.textContent = 'Sound On';
            soundToggle.classList.remove('sound-muted');
            
            // Play a gentle sound every 6 seconds (more frequent)
            if (window.soundInterval) {
                clearInterval(window.soundInterval);
            }
            window.soundInterval = setInterval(playGentleSound, 6000);
            playGentleSound(); // Play immediately
        } else {
            soundIcon.textContent = 'üîá';
            soundLabel.textContent = 'Sound Off';
            soundToggle.classList.add('sound-muted');
            
            if (window.soundInterval) {
                clearInterval(window.soundInterval);
            }
        }
    }

    // Initialize when page loads
    window.addEventListener('load', function() {
        // Set up sound toggle
        document.getElementById('soundToggle').addEventListener('click', toggleSound);
        
        // Initialize audio (but don't start playing yet)
        initAudio();
    });
  </script>
</body>
</html>